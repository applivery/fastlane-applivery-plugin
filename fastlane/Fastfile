desc "Generate a new build and upload it to Applivery.com"

# iOS App build and deploy
lane :applivery_ios do
  gym(
    scheme: "YOUR_APP_SCHEME",        # Your App Scheme
    export_method: 'enterprise')      # Choose between: enterprise or ad-hoc
  applivery(
    app_id: "YOUR_APP_ID",            # Your Applivery App Id
    api_key: "YOUR_API_KEY",          # Your Applivery API Key
    name: "YOUR_BUILD_NAME",          # OPTIONAL: A human-readable name for your build
    notify: false,                    # OPTIONAL: by default it's set to true
    notes: "Uploaded with fastlane",  # OPTIONAL: A human-readable release notes
    tags: "fastlane", #optional
    # build_path: "YOUR_APP.ipa"      # OPTIONAL: by default it takes the IPA build path generated by gym
    )
end

# Android App build and deploy
lane :applivery_android do
  gradle(task: "assembleRelease")
  applivery(
    app_id: "YOUR_APP_ID",           # Your Applivery App Id
    api_key: "YOUR_API_KEY",         # Your Applivery API Key
    name: "YOUR_BUILD_NAME",         # OPTIONAL: A human-readable name for your build
    notify: false,                   # OPTIONAL: by default it's set to true
    notes: "Uploaded with fastlane", # OPTIONAL: A human-readable release notes
    tags: "fastlane", #optional
    # build_path: "YOUR_APP.apk"     # OPTIONAL: by default it takes the APK build path generated by gradle
    )
end
