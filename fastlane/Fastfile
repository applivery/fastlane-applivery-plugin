desc "Generate a new build and upload it to Applivery.com"

# iOS App build and deploy
platform :ios do
  lane :applivery_deploy do
    gym(
      scheme: "YOUR_APP_SCHEME",        # Your App Scheme
      export_method: 'enterprise')      # Choose between: enterprise or ad-hoc
    applivery(
      app_id: "YOUR_APP_ID",            # Your Applivery App Id
      api_key: "YOUR_API_KEY",          # Your Applivery API Key
      #name: "YOUR_BUILD_NAME",         # OPTIONAL: A human-readable name for your build
      #notify: false,                   # OPTIONAL: by default it's set to true
      #notes: "Uploaded with fastlane", # OPTIONAL: A human-readable release notes
      #tags: "fastlane",                # OPTIONAL: Your build tags
      #autoremove: true,                # OPTIONAL: Remove the last build if you did exced the limits. By default it's set to true
      #build_path: "YOUR_APP.ipa"       # OPTIONAL: by default it takes the IPA build path generated by gym
      )
  end
end

# Android App build and deploy
platform :android do
  lane :applivery_deploy do
    gradle(task: "assembleRelease")
    applivery(
      app_id: "YOUR_APP_ID",            # Your Applivery App Id
      api_key: "YOUR_API_KEY",          # Your Applivery API Key
      #name: "YOUR_BUILD_NAME",         # OPTIONAL: A human-readable name for your build
      #otify: false,                    # OPTIONAL: by default it's set to true
      #notes: "Uploaded with fastlane", # OPTIONAL: A human-readable release notes
      #tags: "fastlane", #optional,     # OPTIONAL: Your build tags
      #autoremove: true,                # OPTIONAL: Remove the last build if you did exced the limits. By default it's set to true
      #build_path: "YOUR_APP.apk"       # OPTIONAL: by default it takes the APK build path generated by gradle
      )
  end
end
